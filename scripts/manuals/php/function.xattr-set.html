<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Set an extended attribute</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.xattr-remove.html">« xattr_remove</a></li>
      <li style="float: right;"><a href="function.xattr-supported.html">xattr_supported »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.xattr.html">xattr Functions</a></li>
    <li>Set an extended attribute</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.xattr-set" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">xattr_set</h1>
  <p class="verinfo">(PECL xattr &gt;= 0.9.0)</p><p class="refpurpose"><span class="refname">xattr_set</span> &mdash; <span class="dc-title">
   Set an extended attribute
  </span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.xattr-set-description">
  <h3 class="title">Description</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>xattr_set</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$filename</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$name</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$value</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$flags</code><span class="initializer"> = 0</span></span><br>): <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   This function sets the value of an extended attribute of a file.
  </p>
  <p class="para">Extended attributes have two different namespaces: user
and root. The user namespace is available to all users, while the root namespace
is available only to users with root privileges. xattr operates on the user
namespace  by default, but this can be changed with the
<code class="parameter">flags</code> parameter.</p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.xattr-set-parameters">
  <h3 class="title">Parameters</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">filename</code></dt>
     <dd>
      <p class="para">
       The file in which we set the attribute.
      </p>
     </dd>
    
    
     <dt><code class="parameter">name</code></dt>
     <dd>
      <p class="para">
       The name of the extended attribute. This attribute will be created if 
       it doesn&#039;t exist or replaced otherwise. You can change this behaviour 
       by using the <code class="parameter">flags</code> parameter.
      </p>
     </dd>
    
    
     <dt><code class="parameter">value</code></dt>
     <dd>
      <p class="para">
       The value of the attribute.
      </p>
     </dd>
    
    
     <dt><code class="parameter">flags</code></dt>
     <dd>
      <p class="para">
       <table class="doctable table">
        <caption><strong>Supported xattr flags</strong></caption>
        
         <tbody class="tbody">
          <tr>
           <td><strong><code><a href="xattr.constants.html#constant.xattr-create">XATTR_CREATE</a></code></strong></td>
           <td>Function will fail if extended attribute already exists.</td>
          </tr>

          <tr>
           <td><strong><code><a href="xattr.constants.html#constant.xattr-replace">XATTR_REPLACE</a></code></strong></td>
           <td>Function will fail if extended attribute doesn&#039;t exist.</td>
          </tr>

          <tr>
           <td><strong><code><a href="xattr.constants.html#constant.xattr-dontfollow">XATTR_DONTFOLLOW</a></code></strong></td>
           <td>Do not follow the symbolic link but operate on symbolic link itself.</td>
          </tr>

          <tr>
           <td><strong><code><a href="xattr.constants.html#constant.xattr-root">XATTR_ROOT</a></code></strong></td>
           <td>Set attribute in root (trusted) namespace. Requires root privileges.</td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.xattr-set-returnvalues">
  <h3 class="title">Return Values</h3>
  <p class="para">
   Returns <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> on success or <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> on failure.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.xattr-set-examples">
  <h3 class="title">Examples</h3>
  <p class="para">
   <div class="example" id="example-2338">
    <p><strong>Example #1 Sets extended attributes on <var class="filename">.wav</var> file</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$file </span><span style="color: #007700">= </span><span style="color: #DD0000">'my_favourite_song.wav'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">, </span><span style="color: #DD0000">'Artist'</span><span style="color: #007700">, </span><span style="color: #DD0000">'Someone'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">, </span><span style="color: #DD0000">'My ranking'</span><span style="color: #007700">, </span><span style="color: #DD0000">'Good'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">xattr_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">, </span><span style="color: #DD0000">'Listen count'</span><span style="color: #007700">, </span><span style="color: #DD0000">'34'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* ... other code ... */<br /><br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"You've played this song %d times"</span><span style="color: #007700">, </span><span style="color: #0000BB">xattr_get</span><span style="color: #007700">(</span><span style="color: #0000BB">$file</span><span style="color: #007700">, </span><span style="color: #DD0000">'Listen count'</span><span style="color: #007700">)); <br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.xattr-set-seealso">
  <h3 class="title">See Also</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.xattr-get.html" class="function" rel="rdfs-seeAlso">xattr_get()</a> - Get an extended attribute</span></li>
    <li><span class="function"><a href="function.xattr-remove.html" class="function" rel="rdfs-seeAlso">xattr_remove()</a> - Remove an extended attribute</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>